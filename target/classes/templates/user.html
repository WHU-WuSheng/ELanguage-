<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title th:text="|${selectUser!=null?selectUser?.username+'的主页':'error'}|"></title>
<script type="text/javascript">
	function showCapability() {
		$("#showCapability").submit();
	}
	function showStudy() {
		$("#showStudy").submit();
	}
	function showTeach() {
		$("#showTeach").submit();
	}
</script>
</head>
<body>
	<div th:replace="head::head"></div>
	<div th:switch="${selectUser==null}" th:remove="tag">
		<div th:case="true">该用户不存在</div>
		<div th:case="false" th:remove="tag">
			<table border="1">
				<tr>
					<td>用户名</td>
					<td th:text="${selectUser?.username }"></td>
				</tr>
				<div th:if="${session.user == selectUser }" th:remove="tag">
					<tr>
						<td>手机号</td>
						<td th:text="${selectUser?.phone}"></td>
					</tr>
					<tr>
						<td>邮箱</td>
						<td th:text="${selectUser?.email}"></td>
					</tr>
					<tr>
						<td>余额</td>
						<td th:text="${selectUser?.money}"></td>
					</tr>
				</div>
				<tr>
					<td>性别</td>
					<td th:text="${selectUser?.sex }"></td>
				</tr>
				<tr>
					<td>年龄</td>
					<td th:text="${selectUser?.age }"></td>
				</tr>
				<tr>
					<td>积分</td>
					<td th:text="${selectUser?.credit }"></td>
				</tr>
				<tr>
					<td>个人简介</td>
					<td th:text="${selectUser?.profile }"></td>
				</tr>
			</table>
			<form id="showCapability"
				th:action="@{/capability/show/{username}(username=${selectUser?.username })}" method="post"></form>
			<form id="showStudy"
				th:action="@{/record/showStudy/{username}(username=${selectUser?.username })}" method="post"></form>
			<form id="showTeach"
				th:action="@{/record/showTeach/{username}(username=${selectUser?.username })}" method="post"></form>
			<div th:switch="${session.user == selectUser }" th:remove="tag">
				<div th:case="true" th:remove="tag">
					<a href="javascript:;" onclick="showCapability();">查看我发布的技能</a> <a href="javascript:;"
						onclick="showStudy();">查看我的学习记录</a> <a href="javascript:;" onclick="showTeach();">查看我的教学记录</a>
				</div>
				<div th:case="false" th:remove="tag">
					<a th:href="@{/chat/show?username={username}(username=${selectUser?.username})}"
						th:text="|与${selectUser?.sex=='男'?'他':'她'}聊天|"></a> <a href="javascript:;"
						onclick="showCapability();" th:text="|查看${selectUser?.sex=='男'?'他':'她'}发布的技能|"></a>
				</div>
			</div>
		</div>
	</div>

</body>
</html>